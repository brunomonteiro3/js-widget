/*
	@title: Technical Challenge for Chaordic 
	@date: 01/28/2015
	@author: Bruno Monteiro | brunomonteiro3@gmail.com
	@URL: http://brunomontei.ro/
*/
function load(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState<4||4===n.readyState&&t(n)},n.open("GET",e,!0),n.send("")}var referenceDetailUrl=document.getElementById("reference-detailUrl"),referenceImage=document.getElementById("reference-image"),referenceTitle=document.getElementById("reference-title"),referencePrice=document.getElementById("reference-price"),referenceOldPrice=document.getElementById("reference-oldPrice"),referencePaymentConditions=document.getElementById("reference-paymentConditions"),listRecommendations=document.getElementById("list-recommendations");load("assets/js/recommendations.json",function(e){var t=e.response,n=t.replace(/^X\(|\);/g,"");obj=JSON.parse(n),objData=obj.data.reference.item,referenceDetailUrl.href=objData.detailUrl,referenceImage.src="http:"+objData.imageName,referenceTitle.innerHTML=objData.name,referencePrice.innerHTML=objData.price,referencePaymentConditions.innerHTML=objData.productInfo.paymentConditions,null!=objData.oldPrice&&(referenceOldPrice.innerHTML="de: "+objData.oldPrice);var i=obj.data.recommendation,r="";for(var a in i){if(item=i[a],null!=item.oldPrice)var o="de: "+item.oldPrice;else var o="";r+='<div class="item"><a href="'+item.detailUrl+'" target="_blank"><div class="imageName"><img src="http:'+item.imageName+'" /></div><div class="productInfo"><h3 class="title">'+item.name+'</h3><span class="oldPrice">'+o+'</span><div class="price">Por: <span class="newPrice">'+item.price+'</span><span class="paymentConditions">'+item.productInfo.paymentConditions+"</span>sem juros</div></div></a></div>"}document.getElementById("list-recommendations").innerHTML=r;for(var c=document.getElementById("list-recommendations").children,l=0,a=0;a<c.length;a++)l+=c[a].offsetWidth;var s=l+290;listRecommendations.style.width=s+"px",listRecommendations.style.left=0,document.getElementById("btn-prev").onclick=function(){if(0!=parseInt(listRecommendations.style.left)){var e=parseInt(listRecommendations.style.left)+292;listRecommendations.style.left=e+"px"}};var m=292;document.getElementById("btn-next").onclick=function(){if("-1168px"!=listRecommendations.style.left){var e=parseInt(listRecommendations.style.left)-292;m=e,listRecommendations.style.left=m+"px"}}});